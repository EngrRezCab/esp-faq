RF Related
=============

:link_to_translation:`zh_CN:[中文]`

.. raw:: html

   <style>
   body {counter-reset: h2}
     h2 {counter-reset: h3}
     h2:before {counter-increment: h2; content: counter(h2) ". "}
     h3:before {counter-increment: h3; content: counter(h2) "." counter(h3) ". "}
     h2.nocount:before, h3.nocount:before, { content: ""; counter-increment: none }
   </style>

--------------

Does the RF performance of an ESP32 module degrade if it runs with a 2.8 V supply?
-------------------------------------------------------------------------------------------------------------------------------

  Yes, its RF performance may become unstable. It is recommended to follow the suggested operating voltage range specified in the `module's datasheet <https://www.espressif.com/en/support/documents/technical-documents>`_.

--------------

What are the modulation methods supported by ESP chips?
------------------------------------------------------------------------------

  - ESP8266 supports BPSK/QPSK/16QAM/64QAM/DBPSK/DQPSK/CCK.
  - ESP32 supports BPSK/QPSK/16QAM/64QAM/DBPSK/DQPSK/CCK/GFSK Π/4-DQPSK 8-DPSK.
  - ESP32-S2 supports BPSK/QPSK/16QAM/64QAM/DBPSK/DQPSK/CCK.
  - ESP32-C3 supports BPSK/QPSK/16QAM/64QAM/DBPSK/DQPSK/CCK/GFSK.
  - ESP32-S3 supports BPSK/QPSK/16QAM/64QAM/DBPSK/DQPSK/CCK/GFSK.

--------------

How can I get the RF related information (e.g., antenna specification, antenna pattern, etc.) for certification?
------------------------------------------------------------------------------------------------------------------------------

  For such information, please contact `Sales <https://www.espressif.com/en/contact-us/sales-questions>`_ for help.

--------------

Why does ESP32 automatically reduce its transmit power when it uses the RF Test Tool at 80 °C?
--------------------------------------------------------------------------------------------------------------------------------------------------

  - Temperature compensation is disabled by default when ESP32 runs the fixed frequency firmware. Therefore, the power reduces at a high temperature. To enable temperature compensation, please send ``txpwr_track_en 1 1 0`` to ESP32 through the default log serial port.

--------------

How to improve the receiving distance and strength of Wi-Fi signals for ESP32-WROVER-E? (Application scenario: Wi-Fi probe)
----------------------------------------------------------------------------------------------------------------------------------

  - In terms of software, you can either set the maximum transmit power by API `esp_wifi_set_max_tx_power() <https://docs.espressif.com/projects/esp-idf/en/latest/esp32/api-reference/network/esp_wifi.html#_CPPv425esp_wifi_set_max_tx_power6int8_t>`_, or set that via menuconfig: ``Component config`` > ``PHY`` > ``Max Wi-Fi TX power(dBm)``. The default maximum transmit power is 20 dBm.
  - If the transmit power has been set to the maximum value, you may improve the efficiency of the antenna and receiving devices as follows:
  
    - Adjust the module direction so that the stronger radiation direction of the antenna points to the receiving device, realizing the farthest radiation distance.
    - Make sure there is no metal or blocking object near the antenna of the module, no PCB on the back of the antenna, and the Wi-Fi signal is not interfered by other signals of the end device.
    - Use the IE series module with an antenna connector if the performance of the PCB antenna cannot meet requirements, so that an external antenna with higher directional gain can be connected.
    - Increase the radiation efficiency of the antenna in the receiving device.

---------------

How to write phy_init data to flash ?
---------------------------------------------------------------------------------------------------

  :CHIP\: ESP32 :

  - You can write it via the power limit tool. Please download the `ESP_RF_TEST Tool <https://www.espressif.com/sites/default/files/tools/ESP_RF_Test_EN.zip>`_, unzip the package, open the EspRFTestTool_vx.x_Manual.exe file, and then go to ``help`` > ``Tool help`` > ``PowerLimitTool help`` for detailed operations.

--------------

How can I optimize the second harmonic and other spurious signals created by my own products?
-------------------------------------------------------------------------------------------------

  The second harmonic mainly comes from the radiation generated by the RF link and PA (power amplifier) power supply. The backplane (board size) and the product also make impact on the second harmonic. Therefore, it is recommended to:

  - Add a ground capacitor of approximately 2.4 pF to the RF matching circuit to reduce the spurious radiation coming from the RF link.
  - Add a series inductor to the PA power supply (Pins 3 and 4 of ESP32) to reduce the spurious radiation coming from it.

--------------

How can I suppress the harmonics of 80 MHz?
----------------------------------------------------

  If the harmonics of 80 MHz (160 MHz, 240 MHz, 320 MHz, etc.) exceed the allowable levels of spurious emissions, you can add a resistor of approximately 470 Ω to the data transmission circuit (TXD) to suppress those harmonics.
  
---------------

Is manual power calibration required for the Espressif modules that connect to external antennas?
------------------------------------------------------------------------------------------------------------------------------------------------------------

  No, it is not required. When an external antenna is used, please make sure it is connected properly before the module is powered up. Then, the module performs a self-calibration, including power calibration.

---------------

What is the default duty cycle for the "default" level when using the "RF Test Tool" to set the Wi-Fi "TX continues" mode?
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

  - The default duty cycle for the "default" level is 98% or higher, and cannot be modified.

-----------

Does the `ESP RF Test Tool <https://www.espressif.com/en/support/download/other-tools?keys=RF>`_ support single carrier testing?
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

  - Yes. To do the single carrier testing, you can set the ``Test mode`` to ``TX tone`` in the test interface.
  - Before using ESP RF test tools, it is recommended to read the guide `RF Test Items <https://docs.espressif.com/projects/esp-test-tools/en/latest/esp32/development_stage/rf_test_items/index.html#rf>`_.

------------

Is there a corresponding software API for the `ESP RF Test Tool <https://www.espressif.com/en/support/download/other-tools?keys=RF>`_ to implement the relevant RF test functions in the application firmware?
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

  Please refer to the `esp-idf/examples/phy/cert_test <https://github.com/espressif/esp-idf/tree/v5.1.1/examples/phy/cert_test>`_ example, which demonstrates how to use the API for certification testing.

------------

Is it feasible to design a 50-ohm impedance on an FPC?
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

  Although theoretically feasible, it places high demands on the FPC, and there could be risks in EMC handling. Therefore, it is not recommended to place a chip directly on an FPC.

--------------

Can the Espressif U series antenna modules with IPEX antenna connectors (such as ESP32-C3-WROOM-02U) be directly connected to SMA antennas?
-------------------------------------------------------------------------------------------------------------------------------------------------

  No, this is not supported. It is suggested to use an IPEX antenna connector directly. If you need to connect an SMA antenna, please use an IPEX to SMA adapter cable.

---------------

Can I reuse Espressif's FCC/CE certification reports for the ESP32-S3-WROOM-1 module without additional fixed-frequency testing?
------------------------------------------------------------------------------------------------------------------------------------------------------------------

  Some data can be reused, but EMC testing is still required for the final product.
